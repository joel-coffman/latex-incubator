.PHONY: default
default: beamerthemeep.jhu.edu.sty example.pdf beamerthemeep.jhu.edu.pdf

minted:
	if ! [ -d $@ ]; then mkdir --parents $@; fi

beamerthemeep.jhu.edu.sty: | beamerthemeengineering.jhu.edu.sty whiting.logo.small.horizontal.white.eps
beamerthemeep.jhu.edu.pdf: beamerthemeep.jhu.edu.sty example.pdf | email.sty theme-doc.sty minted

example.pdf: beamerthemeep.jhu.edu.sty

include $(shell git rev-parse --show-toplevel)/Makefile.mk

# fall-back for Beamer themes
beamerthemeengineering.jhu.edu.sty:
	$(MAKE) --directory=../engineering.jhu.edu $@

whiting.logo.small.horizontal.white.eps: | beamerthemeengineering.jhu.edu.sty
	cp ../engineering.jhu.edu/$@ $@
